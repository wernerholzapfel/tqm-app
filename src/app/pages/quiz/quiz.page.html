<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>quiz</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-item (click)="showParticipantList = !showParticipantList">
        {{quiz?.participants.length}} deelnemers ({{progressOfParticipants()}})
        <ion-icon [name]="showParticipantList ? 'chevron-down-outline' : 'chevron-up-outline'" slot="end"></ion-icon>
    </ion-item>
    <ion-progress-bar color="secondary" [value]="progressOfParticipants()"></ion-progress-bar>
    <!--    todo create component-->
    <ion-list *ngIf="showParticipantList">
        <ng-container *ngFor="let participant of quiz?.participants">
            <ion-item>{{participant.naam}} {{participant.questions}}
            </ion-item>
            <ion-progress-bar color="secondary" [value]="progressOfParticipant(participant)"></ion-progress-bar>
        </ng-container>
    </ion-list>
    <ion-card>
        <ion-card-header>
            <ion-card-title>
                {{quiz?.beschrijving}} {{quiz?.aantalVragen}}
            </ion-card-title>
            <ion-card-subtitle>
                {{quiz?.id}}
            </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
        </ion-card-content>
        <ion-item *ngIf="isReadyForQuiz" class="ion-text-wrap">Het is wachten tot de quizmaster de quiz start. Klik op
            de deelnemers om te zien wie er mee doen en hoeveel vragen ze al hebben bedacht.
        </ion-item>
    </ion-card>
    <ion-button expand="block" color="secondary" *ngIf="!isReadyForQuiz" (click)="createQuestion()">Voeg vraag toe
    </ion-button>
    <ion-button expand="block" color="secondary" *ngIf="authService?.isAdmin" (click)="startQuiz()">Start de Quiz
    </ion-button>

</ion-content>
